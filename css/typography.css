/* Typography enhancements for Scaledia - minimal, global and accessible */

/* 1) Base settings */
html {
  /* Keep user preference scaling; 100% = ~16px */
  font-size: 100%;
}

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  color: #212529; /* bootstrap body color */
}

/* Improve readability width inside article content without affecting grids/images */
.prose p,
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6,
.prose ul,
.prose ol,
.prose blockquote,
.prose pre,
.prose table,
.prose dl {
  max-width: 70ch;
}

/* 2) Fluid type scale for headings */
:root {
  --scale-1: clamp(1.875rem, 1.32rem + 1.84vw, 2.5rem);  /* h1 */
  --scale-2: clamp(1.5rem, 1.19rem + 0.96vw, 2rem);      /* h2 */
  --scale-3: clamp(1.25rem, 1.06rem + 0.64vw, 1.5rem);   /* h3 */
  --scale-4: clamp(1.125rem, 1.03rem + 0.32vw, 1.25rem); /* h4 */
  --scale-5: 1.0625rem;                                   /* h5 */
  --scale-6: 1rem;                                        /* h6 */
}

h1, .h1 { font-size: var(--scale-1); line-height: 1.2; }
h2, .h2 { font-size: var(--scale-2); line-height: 1.25; }
h3, .h3 { font-size: var(--scale-3); line-height: 1.3; }
h4, .h4 { font-size: var(--scale-4); line-height: 1.35; }
h5, .h5 { font-size: var(--scale-5); line-height: 1.4; }
h6, .h6 { font-size: var(--scale-6); line-height: 1.4; }

/* 3) Vertical rhythm for text elements inside prose/articles */
.prose p { margin-block: 0 1rem; }
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 { margin-top: 2rem; margin-bottom: .75rem; }
.prose h1:first-child,
.prose h2:first-child,
.prose h3:first-child,
.prose h4:first-child,
.prose h5:first-child,
.prose h6:first-child { margin-top: 0; }

.prose ul,
.prose ol { margin: 0 0 1rem 0; padding-left: 1.25rem; }
.prose li { margin-bottom: .4rem; }

/* 4) Links: underline offset and better focus */
a { text-underline-offset: 0.15em; text-decoration-thickness: .08em; }
a:focus-visible { outline: 2px solid #0d6efd; outline-offset: 2px; border-radius: .125rem; }

/* 5) Blockquote styling */
.prose blockquote {
  padding: .5rem 1rem;
  border-left: .25rem solid #0d6efd;
  background: #f8f9fa;
  color: #495057;
  margin: 1.25rem 0;
}

/* 6) Code and preformatted (align with existing inline style rules but ensure consistency) */
.prose code {
  background: #f8f9fa;
  padding: .15rem .35rem;
  border-radius: .25rem;
}

.pre-scrollable,
pre code {
  display: block;
  padding: 1rem;
  border-radius: .5rem;
  background: #0b0b0b;
  color: #f8f9fa;
  overflow: auto;
}

/* 7) Tables */
.prose table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.25rem 0;
}
.prose table th,
.prose table td {
  border: 1px solid #dee2e6;
  padding: .5rem .75rem;
}
.prose table thead th {
  background: #f1f3f5;
}

/* 8) Figures */
.prose figure { margin: 1.25rem 0; }
.prose figcaption { color: #6c757d; font-size: .9375rem; margin-top: .5rem; }

/* 9) Images in article content: keep responsive and bounded */
.prose img { max-width: 100%; height: auto; }

/* 10) Small improvements */
.lead { line-height: 1.6; }
.small, small { line-height: 1.4; }

/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  html:focus-within { scroll-behavior: auto; }
}
